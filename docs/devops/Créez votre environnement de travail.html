<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-devops/Créez votre environnement de travail" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Créez votre environnement de travail | ON APPREND SANS CESSE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mossaabfrifita.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mossaabfrifita.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mossaabfrifita.github.io/docs/devops/Créez votre environnement de travail"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Créez votre environnement de travail | ON APPREND SANS CESSE"><meta data-rh="true" name="description" content="Tout au long de ce cours, nous aurons besoin de 4 serveurs Linux :"><meta data-rh="true" property="og:description" content="Tout au long de ce cours, nous aurons besoin de 4 serveurs Linux :"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mossaabfrifita.github.io/docs/devops/Créez votre environnement de travail"><link data-rh="true" rel="alternate" href="https://mossaabfrifita.github.io/docs/devops/Créez votre environnement de travail" hreflang="fr"><link data-rh="true" rel="alternate" href="https://mossaabfrifita.github.io/docs/devops/Créez votre environnement de travail" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ea9770ca.css">
<script src="/assets/js/runtime~main.afe266ae.js" defer="defer"></script>
<script src="/assets/js/main.0cd224c4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/custom-logo.jpg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/custom-logo.jpg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Mossaab Frifita</b></a><a class="navbar__item navbar__link" href="/docs/category/devops-cicd-pipeline">DevOps</a><a class="navbar__item navbar__link" href="/docs/category/spring-framework">Spring</a><a class="navbar__item navbar__link" href="/docs/category/angular">Angular</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MossaabFrifita" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/devops-cicd-pipeline">DevOps CI/CD pipeline</a><button aria-label="Réduire la catégorie &#x27;DevOps CI/CD pipeline&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Ce que vous apprendrez">Ce que vous apprendrez</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/devops/Créez votre environnement de travail">Créez votre environnement de travail</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Installez et configurez Docker">Installez et configurez Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Créez une simple application Spring Boot">Créez une simple application Spring Boot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Installation et configuration de SonarQube et JaCoCo">Installation et configuration de SonarQube et JaCoCo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Conteneurisez l&#x27;application Spring Boot avec Docker">Conteneurisez l&#x27;application Spring Boot avec Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Créez un registre docker privé et un docker hub proxy avec Nexus">Créez un registre docker privé et un docker hub proxy avec Nexus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Utilisez Ansible pour automatiser le déploiement de votre application">Utilisez Ansible pour automatiser le déploiement de votre application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Gérez le Versioning en livraison continue">Gérez le Versioning en livraison continue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devops/Construisez un pipeline CI-CD avec Jenkins">Construisez un pipeline CI-CD avec Jenkins</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/spring-framework">Spring Framework</a><button aria-label="Développer la catégorie &#x27;Spring Framework&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/angular">Angular</a><button aria-label="Développer la catégorie &#x27;Angular&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/devops-cicd-pipeline"><span itemprop="name">DevOps CI/CD pipeline</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Créez votre environnement de travail</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>Créez votre environnement de travail</h1></header><p>Tout au long de ce cours, nous aurons besoin de <strong>4 serveurs Linux</strong> :</p>
<ul>
<li><strong>master-server</strong> : un serveur Ubuntu sur lequel vous installerez Jenkins, SonarQube, Docker et Nexus.</li>
<li><strong>node-manager</strong> : un serveur CentOS sur lequel vous installerez Ansible.</li>
<li><strong>test-server</strong> : un serveur CentOS sur lequel vous déploierez l&#x27;API pour l&#x27;environnement TEST.</li>
<li><strong>prod-server</strong> : un serveur CentOS sur lequel vous déploierez l&#x27;API pour l&#x27;environnement PROD.</li>
</ul>
<p>Nous allons utiliser VirtualBox pour créer les différents serveurs. Il est disponible pour Windows, Linux et macOS.</p>
<p>Dans mon cas, c&#x27;est un système Windows, mais vous avez le choix de travailler avec n&#x27;importe quel système ; la démarche reste la même. L&#x27;objectif est d&#x27;apprendre comment créer une pipeline CI/CD.</p>
<p>Vous pouvez également opter pour une plateforme cloud telle qu&#x27;AWS, GCP ou Azure, si vous y avez accès et que vous êtes à l&#x27;aise avec. Ou encore, si vous souhaitez déployer votre application au sein de votre entreprise, rapprochez-vous de votre <strong>adminsys</strong>  pour créer les serveurs nécessaires et obtenir les adresses IP avec leurs <strong>comptes route</strong>. Dans ce cas vous pouvez sauter la prochaine étape.</p>
<p>Pour ne pas alourdir le cours, je ne vais pas inclure les détails d&#x27;installation de certains logiciels qui sont très simples !</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installez-les-serveurs-et-préparez-larchitecture">Installez les serveurs et préparez l&#x27;architecture<a href="#installez-les-serveurs-et-préparez-larchitecture" class="hash-link" aria-label="Lien direct vers Installez les serveurs et préparez l&#x27;architecture" title="Lien direct vers Installez les serveurs et préparez l&#x27;architecture">​</a></h3>
<ol>
<li>Téléchargez et installez la version de <a href="https://www.virtualbox.org/" target="_blank" rel="noopener noreferrer">VirtualBox</a> adaptée à votre système d&#x27;exploitation (Windows, macOS, Linux).</li>
<li>Téléchargez une image ISO Ubuntu Server depuis le <a href="https://ubuntu.com/download/server" target="_blank" rel="noopener noreferrer">site officiel</a>.</li>
<li>Téléchargez une image ISO CentOS depuis le <a href="https://www.centos.org/download/" target="_blank" rel="noopener noreferrer">site officiel</a>.</li>
<li>Lancez VirtualBox et créez une VM basée sur Ubuntu, représentant le <code>master-server</code>. Je vous conseille d&#x27;ajouter suffisamment de RAM à cette VM, au moins 4 Go, idéalement 8 Go, car Jenkins, SonarQube, Docker et Nexus seront installés dessus.</li>
<li>Créez une VM basée sur CentOS, représentant le serveur <code>node-manager</code>.</li>
<li>Choisissez le mode d&#x27;accès réseau <code>bridge</code> pour toutes les VM. Nous souhaitons que tous les serveurs puissent communiquer entre eux et être accessibles depuis la machine hôte.</li>
<li>Clonez la VM <code>node-manager</code> deux fois pour créer les serveurs <code>test-server</code> et <code>prod-server</code> (n&#x27;oubliez pas de choisir l&#x27;option &quot;Générer de nouvelles adresses MAC pour toutes les interfaces réseau&quot;).</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="démarrez-les-serveurs-et-vérifiez-la-configuration-réseau">Démarrez les serveurs et vérifiez la configuration réseau<a href="#démarrez-les-serveurs-et-vérifiez-la-configuration-réseau" class="hash-link" aria-label="Lien direct vers Démarrez les serveurs et vérifiez la configuration réseau" title="Lien direct vers Démarrez les serveurs et vérifiez la configuration réseau">​</a></h3>
<p>Démarrer tous les serveurs et tapez la commande <code>ip a</code> dans le terminal de chacun pour afficher les interfaces réseau et identifier celle avec l&#x27;adresse IP locale qui lui a été attribuée.</p>
<p><strong>master-server :</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mossaab@masterserver:~$ ip a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 08:00:27:c3:4b:92 brd ff:ff:ff:ff:ff:ff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet 192.168.1.137/24 brd 192.168.1.255 scope global noprefixroute enp0s8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::a00:27ff:fec3:4b92/64 scope link</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>node-manager :</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nodemanager ~]# ip a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 08:00:27:09:27:56 brd ff:ff:ff:ff:ff:ff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet 192.168.1.173/24 brd 192.168.1.255 scope global noprefixroute dynamic enp0s8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft 27323sec preferred_lft 27323sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 2a01:e0a:5b1:6410:96ea:6a0b:bacd:22cc/64 scope global noprefixroute dynamic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft 85992sec preferred_lft 85992sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::f355:6725:548c:3135/64 scope link noprefixroute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>test-server :</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@testserver ~]# ip a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 08:00:27:ad:03:c4 brd ff:ff:ff:ff:ff:ff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet 192.168.1.26/24 brd 192.168.1.255 scope global noprefixroute dynamic enp0s8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft 29735sec preferred_lft 29735sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 2a01:e0a:5b1:6410:1dc4:369f:b724:f62/64 scope global noprefixroute dynamic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft 86003sec preferred_lft 86003sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::404f:3367:f198:49cf/64 scope link noprefixroute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>prod-server :</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@prodserver ~]# ip a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 08:00:27:2c:fe:54 brd ff:ff:ff:ff:ff:ff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet 192.168.1.66/24 brd 192.168.1.255 scope global noprefixroute dynamic enp0s8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft 29700sec preferred_lft 29700sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 2a01:e0a:5b1:6410:f653:6794:2ba8:2545/64 scope global noprefixroute dynamic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft 85968sec preferred_lft 85968sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::ae10:55e:9b68:24d0/64 scope link noprefixroute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Dans mon cas, voici les adresses IP qui ont été attribués aux VMs :</p>
<ul>
<li>master-server : 192.168.1.137</li>
<li>node-manager : 192.168.1.173</li>
<li>test-server : 192.168.1.26</li>
<li>prod-server : 192.168.1.66</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="se-connecter-en-ssh-aux-serveurs">Se connecter en SSH aux serveurs<a href="#se-connecter-en-ssh-aux-serveurs" class="hash-link" aria-label="Lien direct vers Se connecter en SSH aux serveurs" title="Lien direct vers Se connecter en SSH aux serveurs">​</a></h3>
<p>En règle générale, les distributions Linux orientées serveur, comme Ubuntu Server, ont souvent le serveur SSH (<code>openssh-server</code>) installé par défaut. Cela permet aux utilisateurs de se connecter à distance à la machine via SSH. Cependant les versions Desktop peuvent ne pas inclure le serveur SSH par défaut.</p>
<p>Pour la VM  <code>master-server</code> si vous avez installer Ubuntu Desktop plutôt que Ubuntu server vous pouvez installer le serveur SSH avec les commandes suivantes :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install openssh-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nous pouvons bien évidemment travailler directement sur les terminaux, mais personnellement, j&#x27;opte pour l&#x27;utilisation de <a href="https://mobaxterm.mobatek.net/download.html" target="_blank" rel="noopener noreferrer">MobaXterm</a> pour mes connexions en SSH aux machines distantes. Dans la plupart des scénarios, l&#x27;accès physique aux machines n&#x27;est pas toujours possible, rendant essentielle la connexion en SSH pour la gestion à distance.</p>
<p>Bien sûr, vous avez également la possibilité d&#x27;utiliser d&#x27;autres solutions telles que PuTTY ou simplement l&#x27;invite de commandes.</p>
<p>Connectez-vous aux différentes machines via SSH. Vous pouvez également effectuer un ping pour vérifier que tous les serveurs peuvent communiquer entre eux.</p>
<p><img decoding="async" loading="lazy" alt="image-20240102141438898" src="/assets/images/image-20240102141438898-e2ef3fe3333e5d0ebd57731c7fb6fa44.png" width="1015" height="274" class="img_ev3q"></p>
<p>Faites un ping aussi depuis la machine hôte pour vérifier que le server <code>masterserver</code> est accessible.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">λ ping 192.168.1.137</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Envoi d’une requête &#x27;Ping&#x27;  192.168.1.137 avec 32 octets de données :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Réponse de 192.168.1.137 : octets=32 temps&lt;1ms TTL=64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Réponse de 192.168.1.137 : octets=32 temps&lt;1ms TTL=64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Statistiques Ping pour 192.168.1.137:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Paquets : envoyés = 2, reçus = 2, perdus = 0 (perte 0%),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Durée approximative des boucles en millisecondes :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Minimum = 0ms, Maximum = 0ms, Moyenne = 0ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modifiez-les-noms-des-machines-et-ajoutez-un-nom-de-domaine-local">Modifiez les noms des machines et ajoutez un nom de domaine local<a href="#modifiez-les-noms-des-machines-et-ajoutez-un-nom-de-domaine-local" class="hash-link" aria-label="Lien direct vers Modifiez les noms des machines et ajoutez un nom de domaine local" title="Lien direct vers Modifiez les noms des machines et ajoutez un nom de domaine local">​</a></h3>
<p>Dans l&#x27;absolu, il est recommandé d&#x27;utiliser <strong>les noms de machines plutôt que les adresses IP</strong>. Les noms des serveurs devraient toujours être enregistrés dans un serveur DNS. Cependant, pour les besoins de ce cours, nous allons les configurer localement en utilisant le fichier <code>/etc/hosts</code>. Ce fichier permet d&#x27;établir des correspondances entre les noms des serveurs et leurs adresses IP.</p>
<p>Voici ma configuration :</p>
<p>Sur le <code>nodemanager</code> :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nodemanager ~]# cat /etc/hostname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nodemanager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@nodemanager ~]# cat /etc/hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1   localhost nodemanager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">::1         localhost nodemanager</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sur le <code>testserver</code> :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@testserver ~]# cat /etc/hostname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">testserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@testserver ~]# cat /etc/hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1   localhost testserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">::1         localhost testserver</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sur le <code>prodserver</code> :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@prodserver ~]# cat /etc/hostname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prodserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@prodserver ~]# cat /etc/hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1   localhost prodserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">::1         localhost prodserver</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour le <code>master-server</code> qui héberge Jenkins, SonarQube et Nexus je vous recommande d&#x27;ajouter un nom de domaine local dans votre machine hôte pour se simplifier la vie plus tard.</p>
<p>J&#x27;ai donc ajouté un nom de domaine local <code>prod.local</code> qui pointe vers l&#x27;adresse IP du server.</p>
<p>Sur le <code>masterserver</code> :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mossaabfr@masterserver:~$ cat /etc/hostname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">masterserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mossaabfr@masterserver:~$ cat /etc/hosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1       localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.1.1       masterserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.1.137 	prod.local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sur ma machine hôte Windows, j&#x27;ai ajouté le nom de domaine dans <code>C:\Windows\System32\drivers\etc\hosts</code> (à ouvrir avec un éditeur de texte en mode administrateur)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">::1 localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.1.137 prod.local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note : Assurez-vous que l&#x27;adresse IP <code>192.168.1.X</code> correspond à celle de votre <code>masterserver</code>. Ces configurations permettront à votre machine hôte de résoudre le nom de domaine <code>prod.local</code> vers l&#x27;adresse IP spécifiée lorsqu&#x27;elle communique avec le <code>masterserver</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configurer-une-adresse-ip-statique-facultatif">Configurer une adresse IP statique (facultatif)<a href="#configurer-une-adresse-ip-statique-facultatif" class="hash-link" aria-label="Lien direct vers Configurer une adresse IP statique (facultatif)" title="Lien direct vers Configurer une adresse IP statique (facultatif)">​</a></h3>
<p>L&#x27;adresse IP d&#x27;une interface réseau est attribuée automatiquement via le protocole <strong>DHCP</strong> (Dynamic Host Configuration Protocol). Cela signifie que l&#x27;adresse IP peut changer à chaque redémarrage du serveur.</p>
<p>Pour garantir que l&#x27;adresse IP du serveur <code>masterserver</code> reste constante vous pouvez attribuez manuellement une adresse IP fixe à l&#x27;interface réseau.</p>
<p>Sur la machine <code>masterserver</code> identifier le nom de l&#x27;interface réseau utilisé pour l&#x27;adresse IP local avec la commande <code>ip a</code>. Notez son nom : dans mon cas elle s&#x27;appelle <code>enp0s8</code></p>
<p>Depuis la version 17.10, Ubuntu a adopté <code>Netplan</code> comme outil de gestion de la configuration réseau. <code>Netplan</code> utilise des fichiers de configuration au format YAML, généralement stockés dans le répertoire <code>/etc/netplan/</code>, pour décrire la configuration réseau du système.</p>
<p>Le dossier <code>/etc/netplan</code> contient déjà un fichier de configuration par défaut :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mossaabfr@masterserver:~$ ls /etc/netplan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">01-network-manager-all.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mossaabfr@masterserver:~$ cat /etc/netplan/01-network-manager-all.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Let NetworkManager manage all devices on this system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">network:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  version: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  renderer: NetworkManager</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La ligne <code>renderer: NetworkManager</code> indique le programme qui va appliquer les instructions de ce fichier de configuration (<code>NetworkManager</code> est utilisé sur les versions <code>Destkop</code> <code>renderer: networkd</code> est plutôt utilisé sur les versions <code>server</code>).</p>
<p>Pour attribuer une IP statique à l&#x27;interface <code>enp0s8</code>, créez le fichier  <code>/etc/netplan/02-lan-statique.yaml</code> :</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">network</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">renderer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NetworkManager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">ethernets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">enp0s8</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">dhcp4</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">dhcp6</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">192.168.1.137/24</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">gateway4</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">nameservers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">127.0.0.53</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Une fois le fichier enregistré, vous pouvez appliquer la nouvelle configuration par la commande :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo netplan apply</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/devops/Ce que vous apprendrez"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">Ce que vous apprendrez</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/devops/Installez et configurez Docker"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Installez et configurez Docker</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installez-les-serveurs-et-préparez-larchitecture" class="table-of-contents__link toc-highlight">Installez les serveurs et préparez l&#39;architecture</a></li><li><a href="#démarrez-les-serveurs-et-vérifiez-la-configuration-réseau" class="table-of-contents__link toc-highlight">Démarrez les serveurs et vérifiez la configuration réseau</a></li><li><a href="#se-connecter-en-ssh-aux-serveurs" class="table-of-contents__link toc-highlight">Se connecter en SSH aux serveurs</a></li><li><a href="#modifiez-les-noms-des-machines-et-ajoutez-un-nom-de-domaine-local" class="table-of-contents__link toc-highlight">Modifiez les noms des machines et ajoutez un nom de domaine local</a></li><li><a href="#configurer-une-adresse-ip-statique-facultatif" class="table-of-contents__link toc-highlight">Configurer une adresse IP statique (facultatif)</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/devops-cicd-pipeline">Articles</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/mossaab-frifita-17ba44138" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/MossaabFrifita" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Mossaab Frifita. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>